FAIL __tests__/api/services.test.ts
  ‚óè /api/services ‚Ä∫ GET ‚Ä∫ should return services with pagination

    TypeError: Response.json is not a function

    [0m [90m 39 |[39m   status[33m:[39m number [33m=[39m [35m400[39m
     [90m 40 |[39m )[33m:[39m [33mNextResponse[39m[33m<[39m[33mApiResponse[39m[33m>[39m {
    [31m[1m>[22m[39m[90m 41 |[39m   [36mreturn[39m [33mNextResponse[39m[33m.[39mjson(
     [90m    |[39m                       [31m[1m^[22m[39m
     [90m 42 |[39m     {
     [90m 43 |[39m       success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 44 |[39m       error[33m,[39m[0m

      at NextResponse.json (node_modules/next/src/server/web/spec-extension/response.ts:113:41)
      at json (lib/api-utils.ts:41:23)
      at errorResponse (lib/api-utils.ts:109:12)
      at GET (app/api/services/route.ts:215:26)
      at Object.<anonymous> (__tests__/api/services.test.ts:46:30)

  ‚óè /api/services ‚Ä∫ GET ‚Ä∫ should filter by category

    TypeError: Response.json is not a function

    [0m [90m 39 |[39m   status[33m:[39m number [33m=[39m [35m400[39m
     [90m 40 |[39m )[33m:[39m [33mNextResponse[39m[33m<[39m[33mApiResponse[39m[33m>[39m {
    [31m[1m>[22m[39m[90m 41 |[39m   [36mreturn[39m [33mNextResponse[39m[33m.[39mjson(
     [90m    |[39m                       [31m[1m^[22m[39m
     [90m 42 |[39m     {
     [90m 43 |[39m       success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 44 |[39m       error[33m,[39m[0m

      at NextResponse.json (node_modules/next/src/server/web/spec-extension/response.ts:113:41)
      at json (lib/api-utils.ts:41:23)
      at errorResponse (lib/api-utils.ts:109:12)
      at GET (app/api/services/route.ts:215:26)
      at Object.<anonymous> (__tests__/api/services.test.ts:57:13)

  ‚óè /api/services ‚Ä∫ POST ‚Ä∫ should create a new service successfully

    TypeError: Cannot read properties of undefined (reading 'forEach')

    [0m [90m 76 |[39m     [36mconst[39m errors[33m:[39m [33mRecord[39m[33m<[39m[33mstring[39m[33m,[39m string[][33m>[39m [33m=[39m {}[33m;[39m
     [90m 77 |[39m     [90m// eslint-disable-next-line @typescript-eslint/no-explicit-any[39m
    [31m[1m>[22m[39m[90m 78 |[39m     zodError[33m.[39merrors[33m.[39mforEach((err[33m:[39m any) [33m=>[39m {
     [90m    |[39m                     [31m[1m^[22m[39m
     [90m 79 |[39m       [36mconst[39m path [33m=[39m err[33m.[39mpath[33m.[39mjoin([32m"."[39m)[33m;[39m
     [90m 80 |[39m       [36mif[39m ([33m![39merrors[path]) {
     [90m 81 |[39m         errors[path] [33m=[39m [][33m;[39m[0m

      at forEach (lib/api-utils.ts:78:21)
      at POST (app/api/services/route.ts:371:26)
      at Object.<anonymous> (__tests__/api/services.test.ts:102:30)

  ‚óè /api/services ‚Ä∫ POST ‚Ä∫ should reject unauthorized request

    TypeError: Response.json is not a function

    [0m [90m 39 |[39m   status[33m:[39m number [33m=[39m [35m400[39m
     [90m 40 |[39m )[33m:[39m [33mNextResponse[39m[33m<[39m[33mApiResponse[39m[33m>[39m {
    [31m[1m>[22m[39m[90m 41 |[39m   [36mreturn[39m [33mNextResponse[39m[33m.[39mjson(
     [90m    |[39m                       [31m[1m^[22m[39m
     [90m 42 |[39m     {
     [90m 43 |[39m       success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 44 |[39m       error[33m,[39m[0m

      at NextResponse.json (node_modules/next/src/server/web/spec-extension/response.ts:113:41)
      at json (lib/api-utils.ts:41:23)
      at errorResponse (lib/api-utils.ts:109:12)
      at POST (app/api/services/route.ts:371:26)
      at Object.<anonymous> (__tests__/api/services.test.ts:118:30)

  ‚óè /api/services ‚Ä∫ POST ‚Ä∫ should reject non-provider roles

    TypeError: Response.json is not a function

    [0m [90m 39 |[39m   status[33m:[39m number [33m=[39m [35m400[39m
     [90m 40 |[39m )[33m:[39m [33mNextResponse[39m[33m<[39m[33mApiResponse[39m[33m>[39m {
    [31m[1m>[22m[39m[90m 41 |[39m   [36mreturn[39m [33mNextResponse[39m[33m.[39mjson(
     [90m    |[39m                       [31m[1m^[22m[39m
     [90m 42 |[39m     {
     [90m 43 |[39m       success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 44 |[39m       error[33m,[39m[0m

      at NextResponse.json (node_modules/next/src/server/web/spec-extension/response.ts:113:41)
      at json (lib/api-utils.ts:41:23)
      at errorResponse (lib/api-utils.ts:109:12)
      at POST (app/api/services/route.ts:371:26)
      at Object.<anonymous> (__tests__/api/services.test.ts:133:30)

FAIL __tests__/api/health.test.ts
  ‚óè GET /api/health ‚Ä∫ should return healthy status when database is connected

    TypeError: Response.json is not a function

    [0m [90m 57 |[39m         }[33m,[39m { status[33m:[39m [35m200[39m })[33m;[39m
     [90m 58 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 59 |[39m         [36mreturn[39m [33mNextResponse[39m[33m.[39mjson({
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 60 |[39m             status[33m:[39m [32m'unhealthy'[39m[33m,[39m
     [90m 61 |[39m             timestamp[33m:[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m
     [90m 62 |[39m             database[33m:[39m [32m'disconnected'[39m[33m,[39m[0m

      at NextResponse.json (node_modules/next/src/server/web/spec-extension/response.ts:113:41)
      at json (app/api/health/route.ts:59:29)
      at Object.<anonymous> (__tests__/api/health.test.ts:21:26)

  ‚óè GET /api/health ‚Ä∫ should return unhealthy status when database is disconnected

    TypeError: Response.json is not a function

    [0m [90m 57 |[39m         }[33m,[39m { status[33m:[39m [35m200[39m })[33m;[39m
     [90m 58 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 59 |[39m         [36mreturn[39m [33mNextResponse[39m[33m.[39mjson({
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 60 |[39m             status[33m:[39m [32m'unhealthy'[39m[33m,[39m
     [90m 61 |[39m             timestamp[33m:[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m
     [90m 62 |[39m             database[33m:[39m [32m'disconnected'[39m[33m,[39m[0m

      at NextResponse.json (node_modules/next/src/server/web/spec-extension/response.ts:113:41)
      at json (app/api/health/route.ts:59:29)
      at Object.<anonymous> (__tests__/api/health.test.ts:35:26)

PASS __tests__/components/Input.test.tsx
PASS __tests__/components/Button.test.tsx
PASS __tests__/components/Card.test.tsx
PASS __tests__/lib/validations/auth.test.ts
PASS __tests__/lib/utils.test.ts
FAIL __tests__/api/auth/register.test.ts
  ‚óè Test suite failed to run

    Jest encountered an unexpected token

    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.

    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.

    By default "node_modules" folder is ignored by transformers.

    Here's what you can do:
     ‚Ä¢ If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.
     ‚Ä¢ If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript
     ‚Ä¢ To have some of your "node_modules" files transformed, you can specify a custom "transformIgnorePatterns" in your config.
     ‚Ä¢ If you need a custom transformation, specify a "transform" option in your config.
     ‚Ä¢ If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the "moduleNameMapper" config option.

    You'll find more details and examples of these config options in the docs:
    https://jestjs.io/docs/configuration
    For information about custom transformations, see:
    https://jestjs.io/docs/code-transformation

    Details:

    C:\Users\Aleksa\Desktop\ITEH projekti\Izrada\ITEH 14 2026\3. projekat\Rad\internet-tehnologije-2025-webappusluge_2022_0565\mvp-usluge\node_modules\@exodus\bytes\encoding-lite.js:1
    export {
    ^^^^^^

    SyntaxError: Unexpected token 'export'

    [0m [90m 32 |[39m     [36mreturn[39m validator[33m.[39misUUID(id)[33m;[39m
     [90m 33 |[39m }
    [31m[1m>[22m[39m[90m 34 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 35 |[39m [90m/**[39m
     [90m 36 |[39m [90m * üõ° SQL INJECTION ZA≈†TITA - Validacija Email-a[39m
     [90m 37 |[39m [90m */[39m[0m

      at Runtime.createScriptFromCode (node_modules/jest-runtime/build/index.js:1318:40)
      at Object.<anonymous> (node_modules/isomorphic-dompurify/node_modules/html-encoding-sniffer/lib/html-encoding-sniffer.js:2:41)
      at Object.<anonymous> (node_modules/isomorphic-dompurify/node_modules/jsdom/lib/api.js:7:27)
      at Object.<anonymous> (node_modules/isomorphic-dompurify/dist/index.js:49:20)
      at Object.<anonymous> (lib/sanitize.ts:34:69)
      at Object.<anonymous> (app/api/auth/register/route.ts:18:19)
      at Object.<anonymous> (__tests__/api/auth/register.test.ts:27:16)

FAIL __tests__/lib/sanitize.test.ts
  ‚óè Test suite failed to run

    Jest encountered an unexpected token

    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.

    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.

    By default "node_modules" folder is ignored by transformers.

    Here's what you can do:
     ‚Ä¢ If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.
     ‚Ä¢ If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript
     ‚Ä¢ To have some of your "node_modules" files transformed, you can specify a custom "transformIgnorePatterns" in your config.
     ‚Ä¢ If you need a custom transformation, specify a "transform" option in your config.
     ‚Ä¢ If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the "moduleNameMapper" config option.

    You'll find more details and examples of these config options in the docs:
    https://jestjs.io/docs/configuration
    For information about custom transformations, see:
    https://jestjs.io/docs/code-transformation

    Details:

    C:\Users\Aleksa\Desktop\ITEH projekti\Izrada\ITEH 14 2026\3. projekat\Rad\internet-tehnologije-2025-webappusluge_2022_0565\mvp-usluge\node_modules\@exodus\bytes\encoding-lite.js:1
    export {
    ^^^^^^

    SyntaxError: Unexpected token 'export'

    [0m [90m 32 |[39m     [36mreturn[39m validator[33m.[39misUUID(id)[33m;[39m
     [90m 33 |[39m }
    [31m[1m>[22m[39m[90m 34 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 35 |[39m [90m/**[39m
     [90m 36 |[39m [90m * üõ° SQL INJECTION ZA≈†TITA - Validacija Email-a[39m
     [90m 37 |[39m [90m */[39m[0m

      at Runtime.createScriptFromCode (node_modules/jest-runtime/build/index.js:1318:40)
      at Object.<anonymous> (node_modules/isomorphic-dompurify/node_modules/html-encoding-sniffer/lib/html-encoding-sniffer.js:2:41)
      at Object.<anonymous> (node_modules/isomorphic-dompurify/node_modules/jsdom/lib/api.js:7:27)
      at Object.<anonymous> (node_modules/isomorphic-dompurify/dist/index.js:49:20)
      at Object.<anonymous> (lib/sanitize.ts:34:69)
      at Object.<anonymous> (__tests__/lib/sanitize.test.ts:5:19)

Test Suites: 4 failed, 5 passed, 9 total
Tests:       7 failed, 58 passed, 65 total
Snapshots:   0 total
Time:        1.492 s
Ran all test suites.
{"numFailedTestSuites":4,"numFailedTests":7,"numPassedTestSuites":5,"numPassedTests":58,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":2,"numTodoTests":0,"numTotalTestSuites":9,"numTotalTests":65,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1771899170883,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["/api/services","GET"],"duration":3,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: Response.json is not a function\n    at NextResponse.json (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\node_modules\\next\\src\\server\\web\\spec-extension\\response.ts:113:41)\n    at json (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\lib\\api-utils.ts:41:23)\n    at errorResponse (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\lib\\api-utils.ts:109:12)\n    at GET (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\app\\api\\services\\route.ts:215:26)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at Object.<anonymous> (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\__tests__\\api\\services.test.ts:46:30)"],"fullName":"/api/services GET should return services with pagination","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771899171585,"status":"failed","title":"should return services with pagination"},{"ancestorTitles":["/api/services","GET"],"duration":2,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: Response.json is not a function\n    at NextResponse.json (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\node_modules\\next\\src\\server\\web\\spec-extension\\response.ts:113:41)\n    at json (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\lib\\api-utils.ts:41:23)\n    at errorResponse (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\lib\\api-utils.ts:109:12)\n    at GET (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\app\\api\\services\\route.ts:215:26)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at Object.<anonymous> (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\__tests__\\api\\services.test.ts:57:13)"],"fullName":"/api/services GET should filter by category","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771899171593,"status":"failed","title":"should filter by category"},{"ancestorTitles":["/api/services","POST"],"duration":2,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'forEach')\n    at forEach (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\lib\\api-utils.ts:78:21)\n    at POST (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\app\\api\\services\\route.ts:371:26)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at Object.<anonymous> (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\__tests__\\api\\services.test.ts:102:30)"],"fullName":"/api/services POST should create a new service successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771899171595,"status":"failed","title":"should create a new service successfully"},{"ancestorTitles":["/api/services","POST"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: Response.json is not a function\n    at NextResponse.json (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\node_modules\\next\\src\\server\\web\\spec-extension\\response.ts:113:41)\n    at json (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\lib\\api-utils.ts:41:23)\n    at errorResponse (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\lib\\api-utils.ts:109:12)\n    at POST (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\app\\api\\services\\route.ts:371:26)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at Object.<anonymous> (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\__tests__\\api\\services.test.ts:118:30)"],"fullName":"/api/services POST should reject unauthorized request","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771899171597,"status":"failed","title":"should reject unauthorized request"},{"ancestorTitles":["/api/services","POST"],"duration":0,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: Response.json is not a function\n    at NextResponse.json (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\node_modules\\next\\src\\server\\web\\spec-extension\\response.ts:113:41)\n    at json (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\lib\\api-utils.ts:41:23)\n    at errorResponse (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\lib\\api-utils.ts:109:12)\n    at POST (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\app\\api\\services\\route.ts:371:26)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at Object.<anonymous> (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\__tests__\\api\\services.test.ts:133:30)"],"fullName":"/api/services POST should reject non-provider roles","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771899171598,"status":"failed","title":"should reject non-provider roles"}],"endTime":1771899171614,"message":"  ‚óè /api/services ‚Ä∫ GET ‚Ä∫ should return services with pagination\n\n    TypeError: Response.json is not a function\n\n    \u001b[0m \u001b[90m 39 |\u001b[39m   status\u001b[33m:\u001b[39m number \u001b[33m=\u001b[39m \u001b[35m400\u001b[39m\n     \u001b[90m 40 |\u001b[39m )\u001b[33m:\u001b[39m \u001b[33mNextResponse\u001b[39m\u001b[33m<\u001b[39m\u001b[33mApiResponse\u001b[39m\u001b[33m>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 41 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mNextResponse\u001b[39m\u001b[33m.\u001b[39mjson(\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 42 |\u001b[39m     {\n     \u001b[90m 43 |\u001b[39m       success\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 44 |\u001b[39m       error\u001b[33m,\u001b[39m\u001b[0m\n\n      at NextResponse.json (node_modules/next/src/server/web/spec-extension/response.ts:113:41)\n      at json (lib/api-utils.ts:41:23)\n      at errorResponse (lib/api-utils.ts:109:12)\n      at GET (app/api/services/route.ts:215:26)\n      at Object.<anonymous> (__tests__/api/services.test.ts:46:30)\n\n  ‚óè /api/services ‚Ä∫ GET ‚Ä∫ should filter by category\n\n    TypeError: Response.json is not a function\n\n    \u001b[0m \u001b[90m 39 |\u001b[39m   status\u001b[33m:\u001b[39m number \u001b[33m=\u001b[39m \u001b[35m400\u001b[39m\n     \u001b[90m 40 |\u001b[39m )\u001b[33m:\u001b[39m \u001b[33mNextResponse\u001b[39m\u001b[33m<\u001b[39m\u001b[33mApiResponse\u001b[39m\u001b[33m>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 41 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mNextResponse\u001b[39m\u001b[33m.\u001b[39mjson(\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 42 |\u001b[39m     {\n     \u001b[90m 43 |\u001b[39m       success\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 44 |\u001b[39m       error\u001b[33m,\u001b[39m\u001b[0m\n\n      at NextResponse.json (node_modules/next/src/server/web/spec-extension/response.ts:113:41)\n      at json (lib/api-utils.ts:41:23)\n      at errorResponse (lib/api-utils.ts:109:12)\n      at GET (app/api/services/route.ts:215:26)\n      at Object.<anonymous> (__tests__/api/services.test.ts:57:13)\n\n  ‚óè /api/services ‚Ä∫ POST ‚Ä∫ should create a new service successfully\n\n    TypeError: Cannot read properties of undefined (reading 'forEach')\n\n    \u001b[0m \u001b[90m 76 |\u001b[39m     \u001b[36mconst\u001b[39m errors\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string[]\u001b[33m>\u001b[39m \u001b[33m=\u001b[39m {}\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m     \u001b[90m// eslint-disable-next-line @typescript-eslint/no-explicit-any\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 78 |\u001b[39m     zodError\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mforEach((err\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 79 |\u001b[39m       \u001b[36mconst\u001b[39m path \u001b[33m=\u001b[39m err\u001b[33m.\u001b[39mpath\u001b[33m.\u001b[39mjoin(\u001b[32m\".\"\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39merrors[path]) {\n     \u001b[90m 81 |\u001b[39m         errors[path] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\u001b[0m\n\n      at forEach (lib/api-utils.ts:78:21)\n      at POST (app/api/services/route.ts:371:26)\n      at Object.<anonymous> (__tests__/api/services.test.ts:102:30)\n\n  ‚óè /api/services ‚Ä∫ POST ‚Ä∫ should reject unauthorized request\n\n    TypeError: Response.json is not a function\n\n    \u001b[0m \u001b[90m 39 |\u001b[39m   status\u001b[33m:\u001b[39m number \u001b[33m=\u001b[39m \u001b[35m400\u001b[39m\n     \u001b[90m 40 |\u001b[39m )\u001b[33m:\u001b[39m \u001b[33mNextResponse\u001b[39m\u001b[33m<\u001b[39m\u001b[33mApiResponse\u001b[39m\u001b[33m>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 41 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mNextResponse\u001b[39m\u001b[33m.\u001b[39mjson(\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 42 |\u001b[39m     {\n     \u001b[90m 43 |\u001b[39m       success\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 44 |\u001b[39m       error\u001b[33m,\u001b[39m\u001b[0m\n\n      at NextResponse.json (node_modules/next/src/server/web/spec-extension/response.ts:113:41)\n      at json (lib/api-utils.ts:41:23)\n      at errorResponse (lib/api-utils.ts:109:12)\n      at POST (app/api/services/route.ts:371:26)\n      at Object.<anonymous> (__tests__/api/services.test.ts:118:30)\n\n  ‚óè /api/services ‚Ä∫ POST ‚Ä∫ should reject non-provider roles\n\n    TypeError: Response.json is not a function\n\n    \u001b[0m \u001b[90m 39 |\u001b[39m   status\u001b[33m:\u001b[39m number \u001b[33m=\u001b[39m \u001b[35m400\u001b[39m\n     \u001b[90m 40 |\u001b[39m )\u001b[33m:\u001b[39m \u001b[33mNextResponse\u001b[39m\u001b[33m<\u001b[39m\u001b[33mApiResponse\u001b[39m\u001b[33m>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 41 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mNextResponse\u001b[39m\u001b[33m.\u001b[39mjson(\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 42 |\u001b[39m     {\n     \u001b[90m 43 |\u001b[39m       success\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 44 |\u001b[39m       error\u001b[33m,\u001b[39m\u001b[0m\n\n      at NextResponse.json (node_modules/next/src/server/web/spec-extension/response.ts:113:41)\n      at json (lib/api-utils.ts:41:23)\n      at errorResponse (lib/api-utils.ts:109:12)\n      at POST (app/api/services/route.ts:371:26)\n      at Object.<anonymous> (__tests__/api/services.test.ts:133:30)\n","name":"C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\__tests__\\api\\services.test.ts","startTime":1771899171294,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["GET /api/health"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: Response.json is not a function\n    at NextResponse.json (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\node_modules\\next\\src\\server\\web\\spec-extension\\response.ts:113:41)\n    at json (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\app\\api\\health\\route.ts:59:29)\n    at Object.<anonymous> (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\__tests__\\api\\health.test.ts:21:26)"],"fullName":"GET /api/health should return healthy status when database is connected","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771899171676,"status":"failed","title":"should return healthy status when database is connected"},{"ancestorTitles":["GET /api/health"],"duration":0,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: Response.json is not a function\n    at NextResponse.json (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\node_modules\\next\\src\\server\\web\\spec-extension\\response.ts:113:41)\n    at json (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\app\\api\\health\\route.ts:59:29)\n    at Object.<anonymous> (C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\__tests__\\api\\health.test.ts:35:26)"],"fullName":"GET /api/health should return unhealthy status when database is disconnected","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771899171679,"status":"failed","title":"should return unhealthy status when database is disconnected"}],"endTime":1771899171681,"message":"  ‚óè GET /api/health ‚Ä∫ should return healthy status when database is connected\n\n    TypeError: Response.json is not a function\n\n    \u001b[0m \u001b[90m 57 |\u001b[39m         }\u001b[33m,\u001b[39m { status\u001b[33m:\u001b[39m \u001b[35m200\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 58 |\u001b[39m     } \u001b[36mcatch\u001b[39m (error) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 59 |\u001b[39m         \u001b[36mreturn\u001b[39m \u001b[33mNextResponse\u001b[39m\u001b[33m.\u001b[39mjson({\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 60 |\u001b[39m             status\u001b[33m:\u001b[39m \u001b[32m'unhealthy'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 61 |\u001b[39m             timestamp\u001b[33m:\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m()\u001b[33m.\u001b[39mtoISOString()\u001b[33m,\u001b[39m\n     \u001b[90m 62 |\u001b[39m             database\u001b[33m:\u001b[39m \u001b[32m'disconnected'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at NextResponse.json (node_modules/next/src/server/web/spec-extension/response.ts:113:41)\n      at json (app/api/health/route.ts:59:29)\n      at Object.<anonymous> (__tests__/api/health.test.ts:21:26)\n\n  ‚óè GET /api/health ‚Ä∫ should return unhealthy status when database is disconnected\n\n    TypeError: Response.json is not a function\n\n    \u001b[0m \u001b[90m 57 |\u001b[39m         }\u001b[33m,\u001b[39m { status\u001b[33m:\u001b[39m \u001b[35m200\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 58 |\u001b[39m     } \u001b[36mcatch\u001b[39m (error) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 59 |\u001b[39m         \u001b[36mreturn\u001b[39m \u001b[33mNextResponse\u001b[39m\u001b[33m.\u001b[39mjson({\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 60 |\u001b[39m             status\u001b[33m:\u001b[39m \u001b[32m'unhealthy'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 61 |\u001b[39m             timestamp\u001b[33m:\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m()\u001b[33m.\u001b[39mtoISOString()\u001b[33m,\u001b[39m\n     \u001b[90m 62 |\u001b[39m             database\u001b[33m:\u001b[39m \u001b[32m'disconnected'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at NextResponse.json (node_modules/next/src/server/web/spec-extension/response.ts:113:41)\n      at json (app/api/health/route.ts:59:29)\n      at Object.<anonymous> (__tests__/api/health.test.ts:35:26)\n","name":"C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\__tests__\\api\\health.test.ts","startTime":1771899171625,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Input Component"],"duration":15,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Input Component should render input with label","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171832,"status":"passed","title":"should render input with label"},{"ancestorTitles":["Input Component"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Input Component should render input with placeholder","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171847,"status":"passed","title":"should render input with placeholder"},{"ancestorTitles":["Input Component"],"duration":34,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Input Component should handle onChange events","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171850,"status":"passed","title":"should handle onChange events"},{"ancestorTitles":["Input Component"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Input Component should display error message","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171884,"status":"passed","title":"should display error message"},{"ancestorTitles":["Input Component"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Input Component should display helper text","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171887,"status":"passed","title":"should display helper text"},{"ancestorTitles":["Input Component"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Input Component should show required asterisk","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171889,"status":"passed","title":"should show required asterisk"},{"ancestorTitles":["Input Component"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Input Component should render left icon","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171890,"status":"passed","title":"should render left icon"},{"ancestorTitles":["Input Component"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Input Component should render right icon","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171891,"status":"passed","title":"should render right icon"},{"ancestorTitles":["Input Component"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Input Component should apply full width styles","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171893,"status":"passed","title":"should apply full width styles"},{"ancestorTitles":["Input Component"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Input Component should be disabled when disabled prop is true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171896,"status":"passed","title":"should be disabled when disabled prop is true"},{"ancestorTitles":["Input Component"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Input Component should apply error styles when error is present","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171898,"status":"passed","title":"should apply error styles when error is present"},{"ancestorTitles":["Input Component"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Input Component should support different input types","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771899171900,"status":"passed","title":"should support different input types"}],"endTime":1771899171905,"message":"","name":"C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\__tests__\\components\\Input.test.tsx","startTime":1771899171691,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Button Component"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Button Component should render button with text","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171981,"status":"passed","title":"should render button with text"},{"ancestorTitles":["Button Component"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Button Component should handle click events","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171984,"status":"passed","title":"should handle click events"},{"ancestorTitles":["Button Component"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Button Component should apply primary variant styles","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171986,"status":"passed","title":"should apply primary variant styles"},{"ancestorTitles":["Button Component"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Button Component should apply secondary variant styles","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171987,"status":"passed","title":"should apply secondary variant styles"},{"ancestorTitles":["Button Component"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Button Component should apply danger variant styles","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171988,"status":"passed","title":"should apply danger variant styles"},{"ancestorTitles":["Button Component"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Button Component should apply small size styles","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171989,"status":"passed","title":"should apply small size styles"},{"ancestorTitles":["Button Component"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Button Component should apply large size styles","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171990,"status":"passed","title":"should apply large size styles"},{"ancestorTitles":["Button Component"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Button Component should show loading state","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771899171991,"status":"passed","title":"should show loading state"},{"ancestorTitles":["Button Component"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Button Component should be disabled when loading","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171993,"status":"passed","title":"should be disabled when loading"},{"ancestorTitles":["Button Component"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Button Component should be disabled when disabled prop is true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171994,"status":"passed","title":"should be disabled when disabled prop is true"},{"ancestorTitles":["Button Component"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Button Component should apply full width styles","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171995,"status":"passed","title":"should apply full width styles"},{"ancestorTitles":["Button Component"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Button Component should not trigger onClick when disabled","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171996,"status":"passed","title":"should not trigger onClick when disabled"},{"ancestorTitles":["Button Component"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Button Component should apply custom className","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899171997,"status":"passed","title":"should apply custom className"}],"endTime":1771899171998,"message":"","name":"C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\__tests__\\components\\Button.test.tsx","startTime":1771899171913,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Card Component"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Card Component should render card with children","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172080,"status":"passed","title":"should render card with children"},{"ancestorTitles":["Card Component"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Card Component should apply default variant styles","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172082,"status":"passed","title":"should apply default variant styles"},{"ancestorTitles":["Card Component"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Card Component should apply bordered variant styles","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172083,"status":"passed","title":"should apply bordered variant styles"},{"ancestorTitles":["Card Component"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Card Component should apply elevated variant styles","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172084,"status":"passed","title":"should apply elevated variant styles"},{"ancestorTitles":["Card Component"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Card Component should apply padding styles","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172085,"status":"passed","title":"should apply padding styles"},{"ancestorTitles":["Card Component"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Card Component should apply hoverable styles","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172086,"status":"passed","title":"should apply hoverable styles"},{"ancestorTitles":["Card Component"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Card Component should render CardHeader","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172086,"status":"passed","title":"should render CardHeader"},{"ancestorTitles":["Card Component"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Card Component should render CardTitle","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172087,"status":"passed","title":"should render CardTitle"},{"ancestorTitles":["Card Component"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Card Component should render CardDescription","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172088,"status":"passed","title":"should render CardDescription"},{"ancestorTitles":["Card Component"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Card Component should render CardContent","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172089,"status":"passed","title":"should render CardContent"},{"ancestorTitles":["Card Component"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Card Component should render CardFooter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172090,"status":"passed","title":"should render CardFooter"},{"ancestorTitles":["Card Component"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Card Component should render complete card structure","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1771899172090,"status":"passed","title":"should render complete card structure"}],"endTime":1771899172092,"message":"","name":"C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\__tests__\\components\\Card.test.tsx","startTime":1771899172013,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["lib/validations/auth","registerSchema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/validations/auth registerSchema should validate correct registration data","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172150,"status":"passed","title":"should validate correct registration data"},{"ancestorTitles":["lib/validations/auth","registerSchema"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/validations/auth registerSchema should reject invalid email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771899172151,"status":"passed","title":"should reject invalid email"},{"ancestorTitles":["lib/validations/auth","registerSchema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/validations/auth registerSchema should reject short password","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771899172151,"status":"passed","title":"should reject short password"},{"ancestorTitles":["lib/validations/auth","registerSchema"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/validations/auth registerSchema should reject short first name","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172152,"status":"passed","title":"should reject short first name"},{"ancestorTitles":["lib/validations/auth","registerSchema"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/validations/auth registerSchema should validate phone number format","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172152,"status":"passed","title":"should validate phone number format"},{"ancestorTitles":["lib/validations/auth","registerSchema"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/validations/auth registerSchema should reject invalid phone number","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172152,"status":"passed","title":"should reject invalid phone number"},{"ancestorTitles":["lib/validations/auth","loginSchema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/validations/auth loginSchema should validate correct login data","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172152,"status":"passed","title":"should validate correct login data"},{"ancestorTitles":["lib/validations/auth","loginSchema"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/validations/auth loginSchema should reject invalid email","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172153,"status":"passed","title":"should reject invalid email"},{"ancestorTitles":["lib/validations/auth","loginSchema"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/validations/auth loginSchema should reject missing password","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172153,"status":"passed","title":"should reject missing password"}],"endTime":1771899172153,"message":"","name":"C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\__tests__\\lib\\validations\\auth.test.ts","startTime":1771899172098,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["lib/utils","formatPrice"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/utils formatPrice should format price correctly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1771899172206,"status":"passed","title":"should format price correctly"},{"ancestorTitles":["lib/utils","formatPrice"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/utils formatPrice should handle negative prices","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172216,"status":"passed","title":"should handle negative prices"},{"ancestorTitles":["lib/utils","formatPrice"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/utils formatPrice should handle large numbers","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172216,"status":"passed","title":"should handle large numbers"},{"ancestorTitles":["lib/utils","cn (className utility)"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/utils cn (className utility) should combine class names","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172216,"status":"passed","title":"should combine class names"},{"ancestorTitles":["lib/utils","cn (className utility)"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/utils cn (className utility) should filter out falsy values","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172216,"status":"passed","title":"should filter out falsy values"},{"ancestorTitles":["lib/utils","cn (className utility)"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/utils cn (className utility) should handle empty input","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172217,"status":"passed","title":"should handle empty input"},{"ancestorTitles":["lib/geolocation","calculateDistance"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/geolocation calculateDistance should calculate distance between two points","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771899172217,"status":"passed","title":"should calculate distance between two points"},{"ancestorTitles":["lib/geolocation","calculateDistance"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/geolocation calculateDistance should return 0 for same coordinates","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172217,"status":"passed","title":"should return 0 for same coordinates"},{"ancestorTitles":["lib/geolocation","calculateDistance"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/geolocation calculateDistance should handle negative coordinates","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172217,"status":"passed","title":"should handle negative coordinates"},{"ancestorTitles":["lib/geolocation","formatDistance"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/geolocation formatDistance should format distance in km","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771899172217,"status":"passed","title":"should format distance in km"},{"ancestorTitles":["lib/geolocation","formatDistance"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/geolocation formatDistance should format distance in meters for < 1km","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771899172217,"status":"passed","title":"should format distance in meters for < 1km"},{"ancestorTitles":["lib/geolocation","formatDistance"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"lib/geolocation formatDistance should handle 0 distance","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771899172218,"status":"passed","title":"should handle 0 distance"}],"endTime":1771899172218,"message":"","name":"C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\__tests__\\lib\\utils.test.ts","startTime":1771899172167,"status":"passed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1771899172376,"message":"  ‚óè Test suite failed to run\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     ‚Ä¢ If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     ‚Ä¢ If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     ‚Ä¢ To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     ‚Ä¢ If you need a custom transformation, specify a \"transform\" option in your config.\n     ‚Ä¢ If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\node_modules\\@exodus\\bytes\\encoding-lite.js:1\n    export {\n    ^^^^^^\n\n    SyntaxError: Unexpected token 'export'\n\n    \u001b[0m \u001b[90m 32 |\u001b[39m     \u001b[36mreturn\u001b[39m validator\u001b[33m.\u001b[39misUUID(id)\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 34 |\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 35 |\u001b[39m \u001b[90m/**\u001b[39m\n     \u001b[90m 36 |\u001b[39m \u001b[90m * üõ° SQL INJECTION ZA≈†TITA - Validacija Email-a\u001b[39m\n     \u001b[90m 37 |\u001b[39m \u001b[90m */\u001b[39m\u001b[0m\n\n      at Runtime.createScriptFromCode (node_modules/jest-runtime/build/index.js:1318:40)\n      at Object.<anonymous> (node_modules/isomorphic-dompurify/node_modules/html-encoding-sniffer/lib/html-encoding-sniffer.js:2:41)\n      at Object.<anonymous> (node_modules/isomorphic-dompurify/node_modules/jsdom/lib/api.js:7:27)\n      at Object.<anonymous> (node_modules/isomorphic-dompurify/dist/index.js:49:20)\n      at Object.<anonymous> (lib/sanitize.ts:34:69)\n      at Object.<anonymous> (app/api/auth/register/route.ts:18:19)\n      at Object.<anonymous> (__tests__/api/auth/register.test.ts:27:16)\n","name":"C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\__tests__\\api\\auth\\register.test.ts","startTime":1771899172376,"status":"failed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1771899172376,"message":"  ‚óè Test suite failed to run\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     ‚Ä¢ If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     ‚Ä¢ If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     ‚Ä¢ To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     ‚Ä¢ If you need a custom transformation, specify a \"transform\" option in your config.\n     ‚Ä¢ If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\node_modules\\@exodus\\bytes\\encoding-lite.js:1\n    export {\n    ^^^^^^\n\n    SyntaxError: Unexpected token 'export'\n\n    \u001b[0m \u001b[90m 32 |\u001b[39m     \u001b[36mreturn\u001b[39m validator\u001b[33m.\u001b[39misUUID(id)\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 34 |\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 35 |\u001b[39m \u001b[90m/**\u001b[39m\n     \u001b[90m 36 |\u001b[39m \u001b[90m * üõ° SQL INJECTION ZA≈†TITA - Validacija Email-a\u001b[39m\n     \u001b[90m 37 |\u001b[39m \u001b[90m */\u001b[39m\u001b[0m\n\n      at Runtime.createScriptFromCode (node_modules/jest-runtime/build/index.js:1318:40)\n      at Object.<anonymous> (node_modules/isomorphic-dompurify/node_modules/html-encoding-sniffer/lib/html-encoding-sniffer.js:2:41)\n      at Object.<anonymous> (node_modules/isomorphic-dompurify/node_modules/jsdom/lib/api.js:7:27)\n      at Object.<anonymous> (node_modules/isomorphic-dompurify/dist/index.js:49:20)\n      at Object.<anonymous> (lib/sanitize.ts:34:69)\n      at Object.<anonymous> (__tests__/lib/sanitize.test.ts:5:19)\n","name":"C:\\Users\\Aleksa\\Desktop\\ITEH projekti\\Izrada\\ITEH 14 2026\\3. projekat\\Rad\\internet-tehnologije-2025-webappusluge_2022_0565\\mvp-usluge\\__tests__\\lib\\sanitize.test.ts","startTime":1771899172376,"status":"failed","summary":""}],"wasInterrupted":false}
